/* Final Quality Score: 179.59 / 1000 (lower is better) */
/*
{
   "channelMap" : [
      0,
      1,
      2,
      3,
      4,
      5,
      6,
      7,
      8,
      9,
      10,
      11,
      12,
      13,
      14,
      15,
      16,
      17,
      18,
      19,
      20,
      21,
      22,
      23,
      24,
      25,
      26,
      27,
      28,
      29,
      30,
      31
   ],
   "modelNormals" : [
      [ -0.432731032371521, 1.6669200767358765e-016, 0.90152305364608765 ],
      [ 0.99984776973724365, 1.5570096150316535e-018, 0.017451895400881767 ],
      [ 0, -1.2246100595915215e-016, -1 ],
      [ -0, -1.2246100595915215e-016, -1 ],
      [ -0, 1.6261399401881142e-016, 1 ],
      [ 0, 0.99984776973724365, 0.017452595755457878 ],
      [ 0.99984776973724365, 1.9471994987669251e-018, 0.017451895400881767 ],
      [ -0.99984776973724365, 1.038219822619141e-018, 0.017451895400881767 ],
      [ -0.44358894228935242, 0.44358894228935242, 0.77875387668609619 ],
      [ -1.2512697367128567e-007, -0.99984776973724365, 0.017452497035264969 ],
      [ 0, -1.2246100595915215e-016, -1 ],
      [ 0, -0.62469494342803955, 0.78086888790130615 ],
      [ 0, -1.2246100595915215e-016, -1 ],
      [ 0, -0.99984776973724365, 0.017452595755457878 ],
      [ 0, -1.2246100595915215e-016, -1 ],
      [ 0, -1.2246100595915215e-016, -1 ],
      [ 0, 0.62469494342803955, 0.78086888790130615 ],
      [ 0, 0.99984776973724365, 0.017452595755457878 ],
      [ 6.0710585016205617e-020, 0.99984776973724365, 0.017452595755457878 ],
      [ 0.99984776973724365, 1.9471994987669251e-018, 0.017451895400881767 ],
      [ -0.99984776973724365, 2.1106295014969364e-018, 0.017451895400881767 ],
      [ -0.44358894228935242, -0.44358894228935242, 0.77875387668609619 ],
      [ 0, -1.2246100595915215e-016, -1 ],
      [ 0.432731032371521, 1.4660001558780122e-016, 0.90152305364608765 ],
      [ 0, 0.62469494342803955, 0.78086888790130615 ],
      [ 0, -0.62469494342803955, 0.78086888790130615 ],
      [ -0.99984776973724365, 2.1106295014969364e-018, 0.017451895400881767 ],
      [ 0.44358894228935242, -0.44358894228935242, 0.77875387668609619 ],
      [ 0.99984776973724365, 1.9471994987669251e-018, 0.017451895400881767 ],
      [ 0.44358894228935242, 0.44358894228935242, 0.77875387668609619 ],
      [ -0.99984776973724365, 2.1106295014969364e-018, 0.017451895400881767 ],
      [ 0.99984776973724365, 1.9471994987669251e-018, 0.017451895400881767 ]
   ],
   "modelPoints" : [
      [ -0.083752922713756561, -0.025075856596231461, 0.032362598925828934 ],
      [ 0.10647148638963699, -0.035929679870605469, 0.01881784200668335 ],
      [ -0.036485761404037476, -0.065206669270992279, 7.9852434643816937e-018 ],
      [ 0.10032344609498978, 0.062991037964820862, -7.7139158157551123e-018 ],
      [ 0.031180873513221741, 0.036389194428920746, 0.033300001174211502 ],
      [ 0.074289299547672272, 0.068580314517021179, 0.0065802023746073246 ],
      [ 0.10673946887254715, -0.025263315066695213, 0.0034677917137742043 ],
      [ -0.10649337619543076, 0.035509809851646423, 0.017563525587320328 ],
      [ -0.084639579057693481, 0.04471578449010849, 0.031101182103157043 ],
      [ 0.098673149943351746, -0.068620823323726654, 0.0042601944878697395 ],
      [ -0.10346636176109314, 0.023373294621706009, -2.8623038269652049e-018 ],
      [ 0.013006828725337982, -0.045211363583803177, 0.032087076455354691 ],
      [ 0.10347028076648712, -0.030973508954048157, 3.7930309085976205e-018 ],
      [ -0.069615952670574188, -0.068571165204048157, 0.0071041258051991463 ],
      [ 0.10368755459785461, -0.063715361058712006, 7.8026193559228488e-018 ],
      [ -0.10061311721801758, 0.064950674772262573, -7.953893319165934e-018 ],
      [ -0.076776854693889618, 0.045522309839725494, 0.031838316470384598 ],
      [ -0.034516334533691406, 0.06851612776517868, 0.01025655772536993 ],
      [ -0.071602165699005127, 0.068520992994308472, 0.0099781667813658714 ],
      [ 0.10672850906848907, -0.010121391154825687, 0.0040952721610665321 ],
      [ -0.10673922300338745, -0.03553318977355957, 0.003481824416667223 ],
      [ -0.08551633358001709, -0.044683057814836502, 0.030620422214269638 ],
      [ -0.10259400308132172, -0.060705766081809998, 7.4340607621937218e-018 ],
      [ 0.084040343761444092, -0.030764419585466385, 0.032224640250205994 ],
      [ 0.059442579746246338, 0.047507889568805695, 0.030249852687120438 ],
      [ 0.0061412481591105461, -0.065178774297237396, 0.016113143414258957 ],
      [ -0.10647048056125641, -0.033307280391454697, 0.018875556066632271 ],
      [ 0.085056483745574951, -0.04488043487071991, 0.030769938603043556 ],
      [ 0.10647339373826981, 0.030616557225584984, 0.018708636984229088 ],
      [ 0.084229066967964172, 0.046527780592441559, 0.030302900820970535 ],
      [ -0.10674453526735306, 0.019215818494558334, 0.0031775317620486021 ],
      [ 0.10674288868904114, 0.040006585419178009, 0.0032716803252696991 ]
   ]
}
*/


$fn = 40;

scale([1, 1, 1]) {
	color("orange") import("..\\..\\hmd_ascii.stl", convexity = 4);
	color("white") import("..\\..\\mask_ascii.stl", convexity = 4);
}

sensors = [
	[ [ 0, "lime" ], [ -0.0837529, -0.0250759, 0.0323626], -25.641, [3.85209e-016, 1, -0] ],
	[ [ 1, "lime" ], [ 0.106471, -0.0359297, 0.0188178], -89, [1.55725e-018, -1, 0] ],
	[ [ 2, "lime" ], [ -0.0364858, -0.0652067, 7.98524e-018], -180, [1, 0, 0] ],
	[ [ 3, "lime" ], [ 0.100323, 0.062991, -7.71392e-018], -180, [1, 0, 0] ],
	[ [ 4, "lime" ], [ 0.0311809, 0.0363892, 0.0333], -0, [1, 0, 0] ],
	[ [ 5, "lime" ], [ 0.0742893, 0.0685803, 0.0065802], -89, [1, 0, 0] ],
	[ [ 6, "lime" ], [ 0.106739, -0.0252633, 0.00346779], -89, [1.9475e-018, -1, 0] ],
	[ [ 7, "lime" ], [ -0.106493, 0.0355098, 0.0175635], -89, [1.03838e-018, 1, -0] ],
	[ [ 8, "lime" ], [ -0.0846396, 0.0447158, 0.0311012], -38.8534, [0.707107, 0.707107, -0] ],
	[ [ 9, "lime" ], [ 0.0986731, -0.0686208, 0.00426019], -89, [-1, 1.25146e-007, 0] ],
	[ [ 10, "lime" ], [ -0.103466, 0.0233733, -2.8623e-018], -180, [1, 0, 0] ],
	[ [ 11, "lime" ], [ 0.0130068, -0.0452114, 0.0320871], -38.6598, [-1, 0, 0] ],
	[ [ 12, "lime" ], [ 0.10347, -0.0309735, 3.79303e-018], -180, [1, 0, 0] ],
	[ [ 13, "lime" ], [ -0.069616, -0.0685712, 0.00710413], -89, [-1, 0, 0] ],
	[ [ 14, "lime" ], [ 0.103688, -0.0637154, 7.80262e-018], -180, [1, 0, 0] ],
	[ [ 15, "lime" ], [ -0.100613, 0.0649507, -7.95389e-018], -180, [1, 0, 0] ],
	[ [ 16, "lime" ], [ -0.0767769, 0.0455223, 0.0318383], -38.6598, [1, 0, 0] ],
	[ [ 17, "lime" ], [ -0.0345163, 0.0685161, 0.0102566], -89, [1, 0, 0] ],
	[ [ 18, "lime" ], [ -0.0716022, 0.068521, 0.00997817], -89, [1, -6.07198e-020, 0] ],
	[ [ 19, "lime" ], [ 0.106729, -0.0101214, 0.00409527], -89, [1.9475e-018, -1, 0] ],
	[ [ 20, "lime" ], [ -0.106739, -0.0355332, 0.00348182], -89, [2.11095e-018, 1, -0] ],
	[ [ 21, "lime" ], [ -0.0855163, -0.0446831, 0.0306204], -38.8534, [-0.707107, 0.707107, 0] ],
	[ [ 22, "lime" ], [ -0.102594, -0.0607058, 7.43406e-018], -180, [1, 0, 0] ],
	[ [ 23, "lime" ], [ 0.0840403, -0.0307644, 0.0322246], -25.641, [3.38779e-016, -1, 0] ],
	[ [ 24, "lime" ], [ 0.0594426, 0.0475079, 0.0302499], -38.6598, [1, 0, 0] ],
	[ [ 25, "lime" ], [ 0.00614125, -0.0651788, 0.0161131], -38.6598, [-1, 0, 0] ],
	[ [ 26, "lime" ], [ -0.10647, -0.0333073, 0.0188756], -89, [2.11095e-018, 1, -0] ],
	[ [ 27, "lime" ], [ 0.0850565, -0.0448804, 0.0307699], -38.8534, [-0.707107, -0.707107, 0] ],
	[ [ 28, "lime" ], [ 0.106473, 0.0306166, 0.0187086], -89, [1.9475e-018, -1, 0] ],
	[ [ 29, "lime" ], [ 0.0842291, 0.0465278, 0.0303029], -38.8534, [0.707107, -0.707107, 0] ],
	[ [ 30, "lime" ], [ -0.106745, 0.0192158, 0.00317753], -89, [2.11095e-018, 1, -0] ],
	[ [ 31, "lime" ], [ 0.106743, 0.0400066, 0.00327168], -89, [1.9475e-018, -1, 0] ],
];

scale([1000, 1000, 1000])
	constellation();

module constellation() {
	for(s = sensors)
		translate(s[1])
			rotate(s[2], s[3])
				sensor(s[0]);
}

module sensor(spec) {
	color(spec[1])
		cylinder(r = 0.0025, h = 0.001);
}
